@model Lab03ltw.Models.Product
@using Microsoft.AspNetCore.Mvc.Rendering

<div class="container mt-4">
	<div class="row">
		<div class="col-lg-8 mx-auto">
			<div class="card border-0 shadow">
				<div class="card-header bg-warning">
					<h3 class="mb-0">
						<i class="fas fa-edit me-2"></i>Chỉnh sửa sản phẩm
					</h3>
				</div>
				<div class="card-body p-4">
					<form asp-action="Update" method="post" enctype="multipart/form-data">
						<input type="hidden" asp-for="Id" />

						<div class="row">
							<div class="col-md-6">
								<div class="form-floating mb-3">
									<input asp-for="Name" class="form-control" placeholder="Nhập tên sản phẩm" />
									<label asp-for="Name">Tên sản phẩm</label>
									<span asp-validation-for="Name" class="text-danger"></span>
								</div>

								<div class="form-floating mb-3">
									<input asp-for="Price" type="number" step="0.01" class="form-control" placeholder="Nhập giá" />
									<label asp-for="Price">Giá (VNĐ)</label>
									<span asp-validation-for="Price" class="text-danger"></span>
								</div>

								<div class="form-floating mb-3">
									<select asp-for="CategoryId" asp-items="ViewBag.Categories" class="form-select">
										<option value="">Chọn danh mục</option>
									</select>
									<label asp-for="CategoryId">Danh mục</label>
									<span asp-validation-for="CategoryId" class="text-danger"></span>
								</div>
							</div>

							<div class="col-md-6">
								<div class="form-floating mb-3">
									<textarea asp-for="Description" class="form-control" style="height: 100px"
											  placeholder="Nhập mô tả"></textarea>
									<label asp-for="Description">Mô tả</label>
									<span asp-validation-for="Description" class="text-danger"></span>
								</div>

								<div class="mb-3">
									<label class="form-label">
										<i class="fas fa-image me-2"></i>Hình ảnh sản phẩm
									</label>
									<input type="file" name="imageUrl" class="form-control" />

									@if (!string.IsNullOrEmpty(Model.ImageUrl))
									{
										<div class="mt-2">
											<img src="@Model.ImageUrl" class="img-thumbnail current-image" alt="Current Image" />
										</div>
									}
								</div>
							</div>
						</div>

						<div class="d-flex justify-content-between align-items-center mt-4">
							<a asp-action="Index" class="btn btn-secondary">
								<i class="fas fa-arrow-left me-2"></i>Quay lại
							</a>
							<button type="submit" class="btn btn-warning">
								<i class="fas fa-save me-2"></i>Cập nhật
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<style>
	.form-floating > .form-control {
		height: calc(3.5rem + 2px);
		line-height: 1.25;
	}

	.form-floating > label {
		padding: 1rem 0.75rem;
	}

	.form-floating > .form-control:focus ~ label,
	.form-floating > .form-control:not(:placeholder-shown) ~ label {
		transform: scale(.85) translateY(-0.5rem) translateX(0.15rem);
	}

	.current-image {
		max-height: 150px;
		object-fit: contain;
	}

	.btn {
		padding: 0.5rem 1.5rem;
	}

	.card-header {
		background-color: #ffc107;
		color: #000;
	}

	textarea.form-control {
		min-height: 100px;
	}
</style>

@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}
}